<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combinatorics - Dr. Yoram Segal</title>
    <link rel="stylesheet" href="../css/cobalt-theme.css">
</head>
<body>
    <div class="slide">
        <div class="slide-number">שקף 5</div>
        
        <div class="slide-header">
            <h1 class="slide-title">Combinatorics</h1>
            <p class="slide-subtitle">קומבינטוריקה ותורת הספירה</p>
        </div>
        
        <div class="slide-content">
            <div class="content-section">
                <h3 style="color: var(--cobalt-light); margin-bottom: var(--spacing-md); font-size: 1.5rem;">
                    מושגי יסוד בקומבינטוריקה
                </h3>
                
                <div class="hebrew-explanation hebrew-text">
                    <p><strong>קומבינטוריקה:</strong> ענף במתמטיקה העוסק בספירה ובחישוב מספר הדרכים לארגן או לבחור אובייקטים.</p>
                    
                    <p><strong>עקרון היסוד:</strong> במקום לספור ידנית את כל התוצאות האפשריות, אנו משתמשים בנוסחאות מתמטיות.</p>
                    
                    <p><strong>פקטוריאל (n!):</strong></p>
                    <ul style="margin-right: 2rem; margin-top: 1rem;">
                        <li>n! = n × (n-1) × (n-2) × ... × 2 × 1</li>
                        <li>דוגמה: 4! = 4 × 3 × 2 × 1 = 24</li>
                        <li>הגדרה: 0! = 1</li>
                    </ul>
                    
                    <p><strong>שימושים בהסתברות:</strong> חישוב מספר התוצאות האפשריות במרחב המדגם.</p>
                </div>
                
                <div class="formula-container">
                    <div class="formula">n! = n × (n-1) × (n-2) × ... × 2 × 1</div>
                    <div class="formula-explanation hebrew-text">
                        הגדרת הפקטוריאל
                    </div>
                </div>
                
                <div class="example-container">
                    <div class="example-title">דוגמאות פקטוריאל:</div>
                    <div class="example-content hebrew-text">
                        • 3! = 3 × 2 × 1 = 6<br>
                        • 5! = 5 × 4 × 3 × 2 × 1 = 120<br>
                        • 0! = 1 (הגדרה)<br>
                        • 1! = 1
                    </div>
                </div>
            </div>
            
            <div class="content-section">
                <h3 style="color: var(--cobalt-light); margin-bottom: var(--spacing-md); font-size: 1.5rem;">
                    נוסחת הקומבינציות
                </h3>
                
                <div class="formula-container">
                    <div class="formula">C(n,k) = (n choose k) = n! / (k!(n-k)!)</div>
                    <div class="formula-explanation hebrew-text">
                        מספר הדרכים לבחור k פריטים מתוך n פריטים (ללא חשיבות לסדר)
                    </div>
                </div>
                
                <div class="code-container">
                    <div class="code-header">slide5.py - Combinatorics Implementation</div>
                    <div class="code-block">
import math
from math import factorial

def combinations(n, k):
    """חישוב C(n,k) = n choose k"""
    if k > n or k < 0:
        return 0
    return factorial(n) // (factorial(k) * factorial(n - k))

def coin_flip_combinations():
    """דוגמת הטלת מטבעות עם קומבינטוריקה"""
    print("=== הטלת 5 מטבעות ===")
    n = 5  # מספר הטלות
    
    print(f"מספר דרכים לקבל k ראשים ב-{n} הטלות:")
    print("k | C(5,k) | הסתברות")
    print("-" * 25)
    
    total_outcomes = 2**n
    for k in range(n + 1):
        ways = combinations(n, k)
        probability = ways / total_outcomes
        print(f"{k} | {ways:5d} | {probability:.3f}")

def solve_exercise_3():
    """פתרון תרגיל 3: 3 ראשים ב-5 הטלות"""
    n, k = 5, 3
    ways = combinations(n, k)
    total = 2**n
    probability = ways / total
    
    print(f"\nתרגיל: P(3 ראשים ב-5 הטלות)")
    print(f"C(5,3) = {ways}")
    print(f"P = {ways}/{total} = {probability:.4f}")

# הרצת הדוגמאות
coin_flip_combinations()
solve_exercise_3()
                    </div>
                </div>
                
                <div class="example-container">
                    <div class="example-title">דוגמה מפורטת: C(5,3)</div>
                    <div class="example-content" style="font-family: monospace; direction: ltr; text-align: left;">
                        C(5,3) = 5! / (3! × (5-3)!)<br>
                        = 5! / (3! × 2!)<br>
                        = (5×4×3×2×1) / ((3×2×1) × (2×1))<br>
                        = 120 / (6 × 2)<br>
                        = 120 / 12 = 10
                    </div>
                </div>
                
                <div class="formula-container">
                    <div class="formula">P(exactly k successes) = C(n,k) / 2ⁿ</div>
                    <div class="formula-explanation hebrew-text">
                        הסתברות לקבל בדיוק k הצלחות ב-n הטלות מטבע הוגן
                    </div>
                </div>
            </div>
        </div>
        
        <div class="slide-navigation">
            <button class="nav-button" onclick="previousSlide()">← הקודם</button>
            <button class="nav-button active">5</button>
            <button class="nav-button" onclick="goToIndex()">סיום →</button>
        </div>
        
        <div class="watermark">© כל הזכויות שמורות לד"ר יורם סגל</div>
    </div>

    <script>
        function goToIndex() {
            window.location.href = '../index.html';
        }
        
        function previousSlide() {
            window.location.href = 'slide4.html';
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                goToIndex();
            } else if (e.key === 'ArrowLeft') {
                previousSlide();
            }
        });

        // Interactive animations and effects
        document.addEventListener('DOMContentLoaded', function() {
            // Animate the detailed example step by step
            const detailedExample = document.querySelector('.example-content[style*="monospace"]');
            if (detailedExample) {
                const lines = detailedExample.innerHTML.split('<br>');
                detailedExample.innerHTML = '';
                
                lines.forEach((line, index) => {
                    setTimeout(() => {
                        const lineElement = document.createElement('div');
                        lineElement.innerHTML = line;
                        lineElement.style.opacity = '0';
                        lineElement.style.transform = 'translateX(-20px)';
                        detailedExample.appendChild(lineElement);
                        
                        setTimeout(() => {
                            lineElement.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                            lineElement.style.opacity = '1';
                            lineElement.style.transform = 'translateX(0)';
                        }, 100);
                    }, index * 800);
                });
            }
            
            // Progressive formula reveal
            const formulas = document.querySelectorAll('.formula-container');
            formulas.forEach((formula, index) => {
                formula.style.opacity = '0';
                formula.style.transform = 'rotateX(-10deg)';
                
                setTimeout(() => {
                    formula.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
                    formula.style.opacity = '1';
                    formula.style.transform = 'rotateX(0deg)';
                }, (index + 1) * 1000);
                
                // Add special hover effect for combinatorics formulas
                formula.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05) rotateX(2deg)';
                    this.style.boxShadow = '0 12px 30px rgba(59, 130, 246, 0.4)';
                });
                
                formula.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1) rotateX(0deg)';
                    this.style.boxShadow = 'var(--shadow-lg)';
                });
            });
            
            // Interactive code container
            const codeContainer = document.querySelector('.code-container');
            codeContainer.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px) scale(1.01)';
                this.style.transition = 'transform 0.3s ease';
            });
            
            codeContainer.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
            
            // Add completion celebration effect
            setTimeout(() => {
                const header = document.querySelector('.slide-header');
                header.style.animation = 'pulse 2s ease-in-out';
                
                // Add sparkle effect
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        createSparkle();
                    }, i * 200);
                }
            }, 3000);
        });
        
        function createSparkle() {
            const sparkle = document.createElement('div');
            sparkle.innerHTML = '✨';
            sparkle.style.position = 'absolute';
            sparkle.style.fontSize = '2rem';
            sparkle.style.pointerEvents = 'none';
            sparkle.style.left = Math.random() * window.innerWidth + 'px';
            sparkle.style.top = Math.random() * window.innerHeight + 'px';
            sparkle.style.animation = 'sparkleAnimation 2s ease-out forwards';
            
            document.body.appendChild(sparkle);
            
            setTimeout(() => {
                sparkle.remove();
            }, 2000);
        }
        
        // Add sparkle animation CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes sparkleAnimation {
                0% {
                    opacity: 1;
                    transform: scale(0) rotate(0deg);
                }
                50% {
                    opacity: 1;
                    transform: scale(1) rotate(180deg);
                }
                100% {
                    opacity: 0;
                    transform: scale(0) rotate(360deg);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>

